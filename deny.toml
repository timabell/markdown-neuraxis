[advisories]
version = 2
# The lint level for crates that have been yanked from their source registry
yanked = "warn"

[licenses]
# Only allow licenses compatible with AGPL
clarify = []
allow = [
    "AGPL-3.0-only",
    "GPL-3.0-only",
    "LGPL-3.0-only",
    "MIT",          # compatible with AGPL
    "Apache-2.0",   # compatible with AGPL
    "Apache-2.0 WITH LLVM-exception",
    "BSD-3-Clause", # compatible with AGPL
    "ISC",         # compatible with AGPL
    "CC0-1.0",     # compatible with AGPL
    "MPL-2.0",     # compatible with AGPL https://www.fsf.org/blogs/licensing/mpl-2.0-release https://www.mozilla.org/en-US/MPL/2.0/FAQ/#mpl-and-lgpl
    "Unicode-3.0", # Used by unicode-ident crate
    "Zlib",        # compatible with AGPL https://www.gnu.org/licenses/license-list.html#ZLib
]

# Ensure every crate has a valid license file
private = { ignore = true }
confidence-threshold = 0.8

# Don't warn about allowed licenses that aren't currently used
unused-allowed-license = "allow"

[bans]
# Lint level for when multiple versions of the same crate are detected
multiple-versions = "warn"
# Lint level for when a crate version requirement is `*`
wildcards = "allow"

[sources]
# Lint level for what to happen when a crate from a crate registry that is not in the allow list is encountered
unknown-registry = "warn"
# Lint level for what to happen when a crate from a git repository that is not in the allow list is encountered
unknown-git = "warn"
# List of allowed crate registries
allow-registry = ["https://github.com/rust-lang/crates.io-index"]
